var p=Object.defineProperty;var u=(n,t,i)=>t in n?p(n,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):n[t]=i;var e=(n,t,i)=>(u(n,typeof t!="symbol"?t+"":t,i),i);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))h(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&h(a)}).observe(document,{childList:!0,subtree:!0});function i(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function h(s){if(s.ep)return;s.ep=!0;const o=i(s);fetch(s.href,o)}})();const r=(n,t)=>Math.floor(Math.random()*(t-n+1))+n,d=(n,t,i)=>(n-t.start)/(t.stop-t.start)*(i.stop-i.start+i.start),l=(n,t,i)=>Math.max(Math.min(n,i),t),f=["#084b83","#42bfdd","#ff7700","#ed254e","#f9dc5c","#277AEE","#5b1865","#eff1f3","#e01a4f","#81c14b"];class x{constructor({ctx:t,coordinate:i}){e(this,"ctx");e(this,"positions",[]);e(this,"direction",this.getRandomDirection());e(this,"lineLength",50);e(this,"maxLife",r(100,250));e(this,"life",this.maxLife);e(this,"alpha",1e3);e(this,"maxStrokeWidth",r(1,2));e(this,"strokeWidth",this.maxStrokeWidth);e(this,"step",r(10,30));e(this,"color",f[r(0,f.length-1)]);this.ctx=t,this.positions.push(i)}getRandomDirection(){return r(0,3)*(2*Math.PI/4)}draw(){this.ctx.save(),this.ctx.beginPath(),this.ctx.globalAlpha=this.alpha;for(const[t,i]of this.positions.entries())t===0?this.ctx.moveTo(i.x,i.y):this.ctx.lineTo(i.x,i.y);this.ctx.strokeStyle=this.color,this.ctx.lineWidth=this.strokeWidth,this.ctx.stroke(),this.ctx.closePath(),this.ctx.restore(),this.update()}get latestPosition(){return this.positions[this.positions.length-1]}get isDead(){return this.life<0}update(){this.life--;const t=d(this.life,{start:0,stop:this.maxLife},{start:0,stop:1});this.alpha=l(t,0,this.maxLife);const i=d(this.life,{start:0,stop:this.maxLife},{start:0,stop:this.maxStrokeWidth});this.strokeWidth=l(i,0,this.maxStrokeWidth);const{x:h,y:s}=this.latestPosition,o={x:h+this.step*Math.cos(this.direction),y:s+this.step*Math.sin(this.direction)};Math.random()<.5&&(this.direction=this.getRandomDirection()),this.positions.push(o),this.positions.length>this.lineLength&&this.positions.splice(0,1)}}class m{constructor({canvas:t}){e(this,"canvas");e(this,"ctx");e(this,"lightnings",[]);e(this,"lightningCount");this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.lightnings=[],this.lightningCount=30,this.registerEventListener(),this.render()}registerEventListener(){this.canvas.addEventListener("click",this.handleClick.bind(this))}handleClick(t){const{offsetX:i,offsetY:h}=t;for(let s=0;s<this.lightningCount;s++){const o=new x({ctx:this.ctx,coordinate:{x:i,y:h}});this.lightnings.push(o)}}draw(){this.drawBackground(),this.drawLightning()}drawLightning(){for(const[t,i]of this.lightnings.entries())i.draw(),i.isDead&&this.lightnings.splice(t,1)}drawBackground(){this.ctx.beginPath(),this.ctx.fillStyle="#fff",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.ctx.closePath()}render(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.draw(),requestAnimationFrame(this.render.bind(this))}}const c=document.querySelector("#canvas"),g=()=>{c.width=window.innerWidth,c.height=window.innerHeight};window.addEventListener("resize",g);g();new m({canvas:c});
